<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ssafy.resultmaps">
	
<!-- 	<resultMap type="Emp" id="EmpResultMapWithDept" extends="EmpResultMap"> type은 필수 지정!! -->
<!-- 		<association property="dept" resultMap="com.ssafy.empapp.model.dao.DeptDAO.DeptResultMap"></association>  -->
<!-- 	</resultMap> -->
	
	<resultMap type="UserInfo" id="UserResultMap">
		<id column="user_id" property="userId"/>
		<result column="user_name" property="userName"/>
		<result column="user_nickname" property="userName"/>
		<result column="user_phone" property="userName"/>
		<result column="address" property="address"/>
		<result column="registration_number" property="registerationNumber"/>
	</resultMap>
	
	<!-- Notice -->
	<resultMap type="Notice" id="NoticeResultMap">
		<id column="noticeid" property="noticeId"/>
		<result column="title" property="title"/>
		<result column="content" property="content"/>
		<result column="date_time" property="dateTime"/>
		<result column="hit" property="hit"/>
	</resultMap>
	
	<!-- Label -->
	<resultMap type="CommercialLabel" id="CommercialLabelResultMap">
		<id column="label_id" property="labelId"/>
		<result column="name" property="name"/>
	</resultMap>
	
	<!-- CommercialTypeValue -->
	<resultMap type="CommercialTypeValue" id="countResultMap">
		<result column="convenience_store" property="convenienceStore"/>
		<result column="education" property="education"/>
		<result column="cafe" property="cafe"/>
		<result column="restaurant" property="restaurant"/>
		<result column="health" property="health"/>
		<result column="market" property="market"/>
	</resultMap>
	
	<resultMap type="CommercialTypeValue" id="avgDiffResultMap">
		<result column="avg_diff_convenience_store" property="convenienceStore"/>
		<result column="avg_diff_education" property="education"/>
		<result column="avg_diff_cafe" property="cafe"/>
		<result column="avg_diff_restaurant" property="restaurant"/>
		<result column="avg_diff_health" property="health"/>
		<result column="avg_diff_market" property="market"/>
	</resultMap>
	
	<resultMap type="CommercialTypeValue" id="totalAvgResultMap">
		<result column="total_avg_convenience_store" property="convenienceStore"/>
		<result column="total_avg_education" property="education"/>
		<result column="total_avg_cafe" property="cafe"/>
		<result column="total_avg_restaurant" property="restaurant"/>
		<result column="total_avg_health" property="health"/>
		<result column="total_avg_market" property="market"/>
	</resultMap>
	
	<!-- CommercialArea -->
	<resultMap type="CommercialArea" id="CommercialAreaResultMap">
		<id column="dongCode" property="dongCode"/>
		<association property="count" resultMap="countResultMap"/>
		<association property="avgDiff" resultMap="avgDiffResultMap"/>
		<association property="label" resultMap="CommercialLabelResultMap"/>
	</resultMap>
	
	<!-- DongCode -->
	<resultMap type="DongCode" id="DongCodeResultMap">
		<id column="dongCode" property="dongCode"/>
		<result column="sidoName" property="sidoName"/>
		<result column="gugunName" property="gugunName"/>
		<result column="dongName" property="dongName"/>
		<association property="commercialArea" resultMap="CommercialAreaResultMap"/>
	</resultMap>
	
	<!-- BaseAddress -->
	<resultMap type="BaseAddress" id="BaseAddressResultMap" extends="DongCodeResultMap">
		<id column="baseaddress_id" property="baseaddressId"/>
		<result column="lat" property="lat"/>
		<result column="lng" property="lng"/>
	</resultMap>

	<!-- InterestArea -->
	<resultMap type="InterestArea" id="InterestAreaResultMap">
		<id column="interest_area_id" property="interestAreaId"/>
		<result column="is_main" property="isMain"/>
		<result column="user_id" property="userId"/>
		<association property="baseAddress" resultMap="BaseAddressResultMap"/>
	</resultMap>

	<!-- HouseInfo Mapping 전략 -->
	<resultMap type="HouseInfo" id="HouseResultMap">
		<id column="houseinfo_id" property="houseInfoId"/>
		<result column="aptName" property="aptName"/>
		<result column="sidoName" property="sidoName"/>
		<result column="gugunName" property="gugunName"/>
		<result column="dongName" property="dongName"/>
		<result column="dongCode" property="dongCode"/>
		<result column="buildYear" property="buildYear"/>
		<result column="jibun" property="jibun"/>
		<result column="lat" property="lat"/>
		<result column="lng" property="lng"/>
	</resultMap> 
	
	<resultMap type="HouseInfo" id="HouseInfoDealResultMap" autoMapping="true" extends="HouseResultMap">
		<collection property="houseDeals" resultMap="HouseDealResultMap"/>
	</resultMap>
	
	
	<!-- House Deal Mapping 전략 -->
	<resultMap type="HouseDeal" id="HouseDealResultMap">
		<id column="housedeal_id" property="housedealId"/>
		<result column="dealAmount" property="dealAmount"/>
		<result column="dealYear" property="dealYear"/>
		<result column="dealMonth" property="dealMonth"/>
		<result column="dealDay" property="dealDay"/>
		<result column="area" property="area"/>
		<result column="floor" property="floor"/>
		<result column="type" property="type"/>
		<result column="rentMoney" property="rentMoney"/>
	</resultMap>
	
	<!-- Interest User House Mapping 전략 -->
	<resultMap type="InterestHouse" id="UserInterestHouseMap">
		<id column="interest_house_id" property="interestHouseId"/>
		<result column="user_id" property="userId"/>
		<result column="houseinfo_id" property="houseInfoId"/>
	</resultMap>
	
	<!-- Interest User Board Mapping 전략 -->
	<resultMap type="InterestBoard" id="UserInterestBoardMap">
		<id column="interest_sale_id" property="interestBoardId"/>
		<result column="user_id" property="usreId"/>
		<result column="board_id" property="boardId"/>
	</resultMap>
</mapper>